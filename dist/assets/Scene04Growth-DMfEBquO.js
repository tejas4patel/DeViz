import{r as l,s as b,b as w,j as c}from"./index-CktA7uae.js";import{u as y}from"./useResizeObserver-B4Hlj4Qd.js";import{s as j,l as A,m as $,a as _,b as R}from"./sceneData-DKqliFO4.js";function M(){const{ref:g,rect:d}=y(),m=l.useRef(null),s=l.useMemo(()=>j,[]);return l.useEffect(()=>{const o=m.current;if(!o)return;const x=Math.max(620,d.width),f=380,r={top:16,right:18,bottom:44,left:56},p=x-r.left-r.right,n=f-r.top-r.bottom;o.setAttribute("viewBox",`0 0 ${x} ${f}`);const h=b(o);h.selectAll("*").remove();const a=h.append("g").attr("transform",`translate(${r.left}, ${r.top})`),e=w().domain(s.map(t=>t.year)).range([0,p]).padding(.25),i=A().domain([0,$(s,t=>t.visits_millions)*1.15]).range([n,0]),u=a.append("g").attr("transform",`translate(0, ${n})`);_(u.node(),e);const v=a.append("g");R(v.node(),i),a.append("text").attr("x",0).attr("y",-2).attr("fontSize",12).attr("fontWeight",700).text("Visits in millions"),a.selectAll("rect").data(s).join("rect").attr("x",t=>e(t.year)).attr("y",t=>i(t.visits_millions)).attr("width",e.bandwidth()).attr("height",t=>n-i(t.visits_millions)).attr("rx",10).attr("fill","rgba(20, 70, 160, 0.22)").attr("stroke","rgba(20, 70, 160, 0.55)"),a.selectAll("text.value").data(s).join("text").attr("class","value").attr("x",t=>e(t.year)+e.bandwidth()/2).attr("y",t=>i(t.visits_millions)-8).attr("textAnchor","middle").attr("fontSize",12).attr("fontWeight",700).text(t=>`${t.visits_millions.toFixed(2)}M`),a.selectAll("text.centers").data(s).join("text").attr("class","centers").attr("x",t=>e(t.year)+e.bandwidth()/2).attr("y",()=>n+34).attr("textAnchor","middle").attr("fontSize",12).text(t=>`Centers ${t.centers_total}`)},[s,d.width]),c.jsxs("div",{ref:g,children:[c.jsx("svg",{ref:m,width:"100%",height:"380"}),c.jsx("div",{className:"small",style:{marginTop:10},children:"Starter values come from Table 1 totals for 2021 through 2023"})]})}export{M as default};
