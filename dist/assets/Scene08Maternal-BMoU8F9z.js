import{r as g,s as k,b,j as d}from"./index-CktA7uae.js";import{u as j}from"./useResizeObserver-B4Hlj4Qd.js";import{c as $,l as R,m as M,a as S,b as z}from"./sceneData-DKqliFO4.js";function T(){const{ref:v,rect:m}=j(),c=g.useRef(null),r=g.useMemo(()=>$,[]);return g.useEffect(()=>{const n=c.current;if(!n)return;const p=Math.max(720,m.width),h=420,a={top:18,right:18,bottom:58,left:64},x=p-a.left-a.right,o=h-a.top-a.bottom;n.setAttribute("viewBox",`0 0 ${p} ${h}`);const f=k(n);f.selectAll("*").remove();const e=f.append("g").attr("transform",`translate(${a.left}, ${a.top})`),i=b().domain(r.map(t=>t.age)).range([0,x]).padding(.22),u=b().domain(["maternal","gdm"]).range([0,i.bandwidth()]).padding(.2),l=R().domain([0,M(r,t=>Math.max(t.maternal_rate,t.gdm_rate))*1.18]).range([o,0]),w=e.append("g").attr("transform",`translate(0, ${o})`);S(w.node(),i);const y=e.append("g");z(y.node(),l),e.append("text").attr("x",0).attr("y",-4).attr("fontSize",12).attr("fontWeight",700).text("Rate per 1,000 women"),e.selectAll("g.group").data(r).join("g").attr("class","group").attr("transform",t=>`translate(${i(t.age)}, 0)`).selectAll("rect").data(t=>[{key:"maternal",value:t.maternal_rate},{key:"gdm",value:t.gdm_rate}]).join("rect").attr("x",t=>u(t.key)).attr("y",t=>l(t.value)).attr("width",u.bandwidth()).attr("height",t=>o-l(t.value)).attr("rx",10).attr("fill",t=>t.key==="maternal"?"rgba(20, 70, 160, 0.22)":"rgba(160, 70, 20, 0.22)").attr("stroke",t=>t.key==="maternal"?"rgba(20, 70, 160, 0.55)":"rgba(160, 70, 20, 0.55)");const s=e.append("g").attr("transform",`translate(${x-240}, 8)`);s.append("rect").attr("x",0).attr("y",0).attr("width",16).attr("height",16).attr("fill","rgba(20, 70, 160, 0.22)").attr("stroke","rgba(20, 70, 160, 0.55)"),s.append("text").attr("x",24).attr("y",12).attr("fontSize",12).text("Maternal health visits"),s.append("rect").attr("x",0).attr("y",24).attr("width",16).attr("height",16).attr("fill","rgba(160, 70, 20, 0.22)").attr("stroke","rgba(160, 70, 20, 0.55)"),s.append("text").attr("x",24).attr("y",36).attr("fontSize",12).text("Gestational diabetes visits")},[r,m.width]),d.jsxs("div",{ref:v,children:[d.jsx("svg",{ref:c,width:"100%",height:"420"}),d.jsx("div",{className:"small",style:{marginTop:10},children:"Starter rates come from Table 2, maternal health visits and visits with gestational diabetes"})]})}export{T as default};
